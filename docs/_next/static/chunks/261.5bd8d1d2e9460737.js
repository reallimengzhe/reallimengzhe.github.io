"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[261],{5261:function(e,s,o){o.r(s),o.d(s,{default:function(){return g}});var r=o(3119),t=o(9493),i=o(1957),n=o(6241),a=o(3999),l=o(5265),c=o(6617);let m={primary:"#4466dd",emissive:"#4488ff"};function p(e){let{position:s}=e;return(0,r.jsx)("group",{position:s,children:(0,r.jsxs)("mesh",{children:[(0,r.jsx)("cylinderGeometry",{args:[1.3,1.3,.5,20]}),(0,r.jsx)("meshBasicMaterial",{opacity:.2,transparent:!0})]})})}function x(e){let{position:s}=e;return(0,r.jsxs)("group",{position:s,children:[(0,r.jsxs)("mesh",{children:[(0,r.jsx)("boxGeometry",{args:[1.2,.3,.6]}),(0,r.jsx)("meshBasicMaterial",{color:"#0ea5e9"})]}),(0,r.jsxs)("mesh",{children:[(0,r.jsx)("boxGeometry",{args:[1.3,.4,.7]}),(0,r.jsx)("meshBasicMaterial",{color:"#0ea5e9",opacity:.7,transparent:!0})]}),(0,r.jsxs)("mesh",{position:[0,-.3,0],children:[(0,r.jsx)("boxGeometry",{args:[1,.1,.5]}),(0,r.jsx)("meshBasicMaterial",{color:m.primary})]})]})}function h(e){let{position:s}=e;return(0,r.jsxs)("group",{position:s,children:[(0,r.jsxs)("mesh",{children:[(0,r.jsx)("cylinderGeometry",{args:[1,1,.3,20]}),(0,r.jsx)("meshBasicMaterial",{color:m.primary,opacity:1,transparent:!0})]}),(0,r.jsxs)("mesh",{children:[(0,r.jsx)("cylinderGeometry",{args:[1.3,1.3,.5,20]}),(0,r.jsx)("meshBasicMaterial",{color:"#0ea5e9",opacity:.7,transparent:!0})]})]})}let v=(0,t.forwardRef)((e,s)=>{let{position:o,emissiveIntensity:i=2.5,messageType:n,index:a}=e,[l,c]=(0,t.useState)(!1);(0,t.useImperativeHandle)(s,()=>({startBlink:()=>{c(!0),setTimeout(()=>c(!1),1e3)}}));let p="#ff0000",x="#ff2200";return(0,r.jsxs)("group",{position:o,children:[(0,r.jsxs)("mesh",{rotation:[0,Math.PI/4,0],castShadow:!0,receiveShadow:!0,children:[(0,r.jsx)("boxGeometry",{args:[1.5,.8,1.5]}),(0,r.jsx)("meshStandardMaterial",{color:l?p:m.primary,opacity:1,transparent:!0,metalness:.9,roughness:.1,emissive:l?x:m.emissive,emissiveIntensity:l?8:i})]}),(0,r.jsxs)("mesh",{rotation:[0,Math.PI/4,0],castShadow:!0,receiveShadow:!0,children:[(0,r.jsx)("boxGeometry",{args:[2,1,2]}),(0,r.jsx)("meshStandardMaterial",{color:l?p:"#0ea5e9",opacity:l?.8:.7,transparent:!0,metalness:.9,roughness:.1,emissive:l?x:m.emissive,emissiveIntensity:l?6.4:i})]}),(0,r.jsxs)("mesh",{rotation:[0,Math.PI/4,0],position:[0,.5,0],children:[(0,r.jsx)("boxGeometry",{args:[.3,.1,.3]}),(0,r.jsx)("meshStandardMaterial",{color:p,emissive:x,emissiveIntensity:l?12:3,metalness:1,roughness:0})]}),[[-.5,.5],[.5,.5],[-.5,-.5],[.5,-.5]].map((e,s)=>{let[o,t]=e;return(0,r.jsxs)("mesh",{rotation:[0,Math.PI/4,0],position:[o,.45,t],children:[(0,r.jsx)("boxGeometry",{args:[.1,.05,.1]}),(0,r.jsx)("meshStandardMaterial",{color:"#00ff00",emissive:"#00ff00",emissiveIntensity:2,metalness:1,roughness:0})]},s)})]})});function f(e){let{position:s}=e;return(0,r.jsxs)("group",{position:s,children:[(0,r.jsxs)("mesh",{children:[(0,r.jsx)("boxGeometry",{args:[5.1,.3,1.2]}),(0,r.jsx)("meshBasicMaterial",{color:m.primary})]}),Array.from({length:8},(e,s)=>(0,r.jsxs)("group",{position:[-2+.5*s,.15,0],children:[(0,r.jsxs)("mesh",{position:[0,0,.4],children:[(0,r.jsx)("boxGeometry",{args:[.2,.1,.1]}),(0,r.jsx)("meshBasicMaterial",{color:s%2?"#ffff00":"#00ff00"})]}),(0,r.jsxs)("mesh",{position:[0,0,-.4],children:[(0,r.jsx)("boxGeometry",{args:[.2,.1,.1]}),(0,r.jsx)("meshBasicMaterial",{color:s%3?"#00ff00":"#ffff00"})]})]},s)),(0,r.jsxs)("mesh",{position:[2.4,.2,0],children:[(0,r.jsx)("cylinderGeometry",{args:[.1,.1,.2,8]}),(0,r.jsx)("meshBasicMaterial",{color:"#00ff00"})]}),(0,r.jsxs)("mesh",{children:[(0,r.jsx)("boxGeometry",{args:[5.5,.5,1.6]}),(0,r.jsx)("meshBasicMaterial",{color:"#0ea5e9",opacity:.7,transparent:!0})]}),Array.from({length:6},(e,s)=>(0,r.jsxs)("mesh",{position:[-2.2+.8*s,0,0],children:[(0,r.jsx)("cylinderGeometry",{args:[.05,.05,.31,6],rotation:[Math.PI/2,0,0]}),(0,r.jsx)("meshBasicMaterial",{color:"#000000"})]},s))]})}function d(e){let{position:s}=e;return(0,r.jsxs)("group",{position:s,children:[(0,r.jsxs)("mesh",{children:[(0,r.jsx)("boxGeometry",{args:[7,.6,1.8]}),(0,r.jsx)("meshBasicMaterial",{color:m.primary})]}),(0,r.jsxs)("mesh",{children:[(0,r.jsx)("boxGeometry",{args:[7.5,.8,2.3]}),(0,r.jsx)("meshBasicMaterial",{color:"#0ea5e9",opacity:.7,transparent:!0})]}),(0,r.jsxs)("mesh",{position:[0,.31,0],children:[(0,r.jsx)("boxGeometry",{args:[.8,.1,.8]}),(0,r.jsx)("meshBasicMaterial",{color:"#00ffff"})]}),[-2.5,-1.5,-.5,.5,1.5,2.5].map((e,s)=>(0,r.jsxs)("mesh",{position:[e,.31,-.8],children:[(0,r.jsx)("boxGeometry",{args:[.15,.05,.15]}),(0,r.jsx)("meshBasicMaterial",{color:"#ffff00"})]},"left-".concat(s))),[-2.5,-1.5,-.5,.5,1.5,2.5].map((e,s)=>(0,r.jsxs)("mesh",{position:[e,.31,.8],children:[(0,r.jsx)("boxGeometry",{args:[.15,.05,.15]}),(0,r.jsx)("meshBasicMaterial",{color:"#00ff00"})]},"right-".concat(s))),(0,r.jsxs)("mesh",{position:[0,0,1],children:[(0,r.jsx)("boxGeometry",{args:[6.8,.1,.1]}),(0,r.jsx)("meshBasicMaterial",{color:"#4488ff"})]}),(0,r.jsxs)("mesh",{position:[0,0,-1],children:[(0,r.jsx)("boxGeometry",{args:[6.8,.1,.1]}),(0,r.jsx)("meshBasicMaterial",{color:"#4488ff"})]}),[-3,-2,-1,0,1,2,3].map((e,s)=>(0,r.jsxs)("mesh",{position:[e,0,0],children:[(0,r.jsx)("boxGeometry",{args:[.5,.61,1.81]}),(0,r.jsx)("meshBasicMaterial",{color:m.primary})]},"vent-".concat(s)))]})}function u(e){let{start:s,end:o,messageType:n="info",startIdx:a,endIdx:c}=e,m=(0,t.useRef)([0,1,2].map(()=>(0,t.useRef)(null))),p=(0,t.useRef)(n),x=(0,t.useMemo)(()=>{let e=new i.Vector3(...s),r=new i.Vector3(...o),t=Math.abs(r.z-e.z)>Math.abs(r.x-e.x),n=[e];return t?n.push(new i.Vector3(e.x,e.y,r.z)):n.push(new i.Vector3(r.x,e.y,e.z)),n.push(r),new i.CatmullRomCurve3(n,!1,"centripetal",0)},[s,o]),h="#4AFFFF";return(0,t.useEffect)(()=>{p.current=n,m.current.forEach(e=>{e.current&&e.current.material.color.setStyle(h)})},[n,h]),(0,l.F)(e=>{let{clock:s}=e;m.current.forEach((e,o)=>{if(e.current){let r=(.3*s.getElapsedTime()+.33*o)%1,t=x.getPoint(r);e.current.position.copy(t)}})}),(0,r.jsxs)("group",{children:[(0,r.jsxs)("mesh",{children:[(0,r.jsx)("tubeGeometry",{args:[x,50,.02,8,!1]}),(0,r.jsx)("meshBasicMaterial",{color:h,opacity:.6,transparent:!0})]}),(0,r.jsxs)("mesh",{children:[(0,r.jsx)("tubeGeometry",{args:[x,50,.05,8,!1]}),(0,r.jsx)("meshBasicMaterial",{color:h,transparent:!0,opacity:.3})]}),m.current.map((e,s)=>(0,r.jsxs)("mesh",{ref:m.current[s],children:[(0,r.jsx)("sphereGeometry",{args:[.08]}),(0,r.jsx)("meshBasicMaterial",{color:h})]},s))]})}function y(){let e=(0,t.useMemo)(()=>({u_time:{value:0},colorTop:{value:new i.Vector3(0,1,1)},colorBottom:{value:new i.Vector3(0,.2,1)}}),[]);return(0,t.useMemo)(()=>new i.ShaderMaterial({uniforms:e,vertexShader:"\n        varying vec2 vUv;\n        void main() {\n          vUv = uv;\n          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n        }\n      ",fragmentShader:"\n        uniform float u_time;\n        uniform vec3 colorTop;\n        uniform vec3 colorBottom;\n        varying vec2 vUv;\n        \n        void main() {\n          // 创建更平滑的基础渐变\n          float gradientFactor = pow(vUv.y, 1.2); // 使用幂函数使渐变更自然\n          vec3 baseGradient = mix(colorBottom, colorTop, gradientFactor);\n          \n          // 添加更细腻的波浪效果\n          float wave1 = sin(u_time * 0.3 + vUv.x * 5.0) * 0.03;\n          float wave2 = cos(u_time * 0.2 + vUv.y * 4.0) * 0.02;\n          float wave3 = sin(u_time * 0.1 + (vUv.x + vUv.y) * 6.0) * 0.015;\n          \n          // 组合波浪效果\n          float waveEffect = wave1 + wave2 + wave3;\n          \n          // 调整渐变位置，添加波动感\n          float adjustedY = vUv.y + waveEffect;\n          vec3 waveGradient = mix(colorBottom, colorTop, clamp(adjustedY, 0.0, 1.0));\n          \n          // 混合基础渐变和波浪渐变\n          vec3 mixedColor = mix(baseGradient, waveGradient, 0.7);\n          \n          // 添加光晕效果\n          float glow = 0.05 * (sin(u_time * 0.2) * 0.5 + 0.5);\n          vec3 glowColor = vec3(0.3, 0.7, 1.0);\n          mixedColor += glow * glowColor * (1.0 - vUv.y * 0.8);\n          \n          // 添加微小的噪点效果增加质感\n          float noise = fract(sin(dot(vUv, vec2(12.9898, 78.233) * u_time * 0.01)) * 43758.5453);\n          mixedColor += noise * 0.02;\n          \n          gl_FragColor = vec4(mixedColor, 1.0);\n        }\n      "}),[e]),(0,l.F)(s=>{let{clock:o}=s;e.u_time.value=o.getElapsedTime()}),(0,r.jsxs)("mesh",{children:[(0,r.jsx)("sphereGeometry",{args:[150,64,64]}),(0,r.jsx)("shaderMaterial",{attach:"material",side:i.BackSide,transparent:!0,args:[{uniforms:{u_time:{value:0}},vertexShader:"\n        varying vec3 vPosition;\n        varying vec2 vUv;\n        void main() {\n          vPosition = position;\n          vUv = uv;\n          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n        }\n      ",fragmentShader:"\n        uniform float u_time;\n        varying vec3 vPosition;\n        varying vec2 vUv;\n        \n        void main() {\n          // 计算从底部到顶部的渐变，使用更宽的过渡区域\n          float yGradient = smoothstep(-1.0, 1.0, vPosition.y / 120.0);\n          \n          // 更鲜明的青蓝色渐变\n          vec3 color1 = vec3(0.0, 0.1, 0.2); // 更亮的深蓝色\n          vec3 color2 = vec3(0.0, 0.5, 0.8); // 明显的亮蓝色\n          vec3 baseColor = mix(color1, color2, yGradient);\n          \n          // 添加一些微弱的星星点缀\n          vec2 pos = vUv * 30.0;\n          vec2 i = floor(pos);\n          float sparkle = 0.0;\n          \n          // 简单的随机函数\n          float random = fract(sin(dot(i, vec2(12.9898, 78.233))) * 43758.5453);\n          \n          // 只在一些随机位置添加星星，增加亮度\n          if(random > 0.985) {\n            vec2 f = fract(pos);\n            float d = length(f - 0.5);\n            sparkle = 0.025 / (d * d) * (0.7 + 0.5 * sin(u_time * 0.5 + random * 10.0));\n          }\n          \n          vec3 finalColor = baseColor + vec3(sparkle);\n          gl_FragColor = vec4(finalColor, 1.0);\n        }\n      "}]})]})}function j(e){let{messageType:s}=e,o=(0,t.useRef)([null,null,null]);(0,t.useEffect)(()=>{if("error"===s){var e,r;null===(r=o.current[Math.floor(3*Math.random())])||void 0===r||null===(e=r.startBlink)||void 0===e||e.call(r)}},[s]);let c=[{type:"external",position:[-6,0,-120]},{type:"external",position:[0,0,-120]},{type:"external",position:[6,0,-120]},{type:"router",position:[-6,0,-12]},{type:"router",position:[0,0,-12]},{type:"router",position:[6,0,-12]},{type:"firewall",position:[-6,0,-6]},{type:"firewall",position:[0,0,-6]},{type:"firewall",position:[6,0,-6]},{type:"loadBalancer",position:[0,0,0]},{type:"switch",position:[-4,0,4]},{type:"switch",position:[4,0,4]},{type:"server",position:[-6,0,8]},{type:"server",position:[-2,0,8]},{type:"server",position:[2,0,8]},{type:"server",position:[6,0,8]},{type:"server",position:[-6,0,10]},{type:"server",position:[-2,0,10]},{type:"server",position:[2,0,10]},{type:"server",position:[6,0,10]},{type:"server",position:[-6,0,12]},{type:"server",position:[-2,0,12]},{type:"server",position:[2,0,12]},{type:"server",position:[6,0,12]},{type:"server",position:[-6,0,14]},{type:"server",position:[-2,0,14]},{type:"server",position:[2,0,14]},{type:"server",position:[6,0,14]}],m={external:p,server:x,router:h,firewall:v,switch:f,loadBalancer:d},{camera:j}=(0,l.D)(),g=(0,t.useMemo)(()=>new i.Vector3(0,0,0),[]);return(0,t.useEffect)(()=>{j&&j.lookAt(g)},[j,g]),(0,l.F)(e=>{let{clock:s}=e,o=.1*s.getElapsedTime();j.position.x+=(40*Math.sin(o)-j.position.x)*.05,j.position.z+=(40*Math.cos(o)-j.position.z)*.05,j.position.y+=(20-j.position.y)*.05,j.lookAt(g)}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y,{}),(0,r.jsxs)("group",{children:[c.map((e,t)=>{let i=m[e.type];if("firewall"===e.type){let n=t-6;return(0,r.jsx)(i,{ref:e=>o.current[n]=e,position:e.position,emissiveIntensity:2.5,messageType:s,index:n},t)}return(0,r.jsx)(i,{position:e.position,emissiveIntensity:2.5,messageType:s},t)}),[[0,3],[1,4],[2,5],[3,6],[4,7],[5,8],[3,7],[4,6],[4,8],[5,7],[6,9],[7,9],[8,9],[9,10],[9,11],[10,12],[10,13],[11,14],[11,15],[10,16],[10,17],[11,18],[11,19],[10,20],[10,21],[11,22],[11,23],[10,24],[10,25],[11,26],[11,27],[10,11]].map((e,o)=>{let[t,i]=e;return(0,r.jsx)(u,{start:c[t].position,end:c[i].position,messageType:s,startIdx:t,endIdx:i},o)})]}),(0,r.jsx)(n.z,{enableZoom:!1,enablePan:!1,enableRotate:!1,target:g}),(0,r.jsx)(a.c,{makeDefault:!0,position:[30,20,30],fov:18,up:[0,1,0]})]})}function g(e){let{messageType:s="info"}=e;return(0,r.jsx)("div",{className:"w-full h-full",children:(0,r.jsx)(c.Xz,{shadows:"soft",dpr:window.devicePixelRatio,gl:{antialias:!0,alpha:!1,shadowMap:{type:i.PCFSoftShadowMap}},children:(0,r.jsx)(t.Suspense,{fallback:null,children:(0,r.jsx)(j,{messageType:s})})})})}}}]);